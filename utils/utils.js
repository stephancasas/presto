"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.replaceAt=exports.resolveCharCoordinates=exports.resolveCharContext=exports.linkProperties=exports.dir=exports.absolutePath=exports.resolveSnowbladeContext=void 0;const fs=require("fs"),path=require("path");function resolveSnowbladeContext(){const e=path.resolve(__dirname).split(path.sep).includes("node_modules")?3:2;return`${__dirname.split(path.sep).slice(0,-e).join(path.sep)}${path.sep}`}function absolutePath(e,t=!1){const r=`${path.isAbsolute(e)?"":resolveSnowbladeContext()}${e}`;return t?fs.realpathSync(r):r}function dir(e){return`${path.dirname(e)}${path.sep}`}function linkProperties(e,t,r){const o=r.reduce((e,r)=>(e[r]={get:()=>t[r]},e),{});Object.defineProperties(e,o)}function resolveCharContext(e,t){let r,o=[],s=[];for(r=1;r<=t;r++){const n=e.charAt(t-r);if(0!==s.length||" "!==n&&"\n"!==n)if(o.includes('"')){if(o.push(n),!o.includes("="))break;if(" "===n)break;s.push(n)}else o.push(n)}return{rel:0!==s.length?s.reverse().slice(0,-1).join(""):"html",offset:r}}function resolveCharCoordinates(e,t,r){const o=e.split("\n");let s=0;return o.slice(0,t-1).map(e=>{s=s+e.length+1}),s+=r,s}function replaceAt(e,t,r,o){return e.substr(0,t)+o+e.substr(t+r.length)}exports.resolveSnowbladeContext=resolveSnowbladeContext,exports.absolutePath=absolutePath,exports.dir=dir,exports.linkProperties=linkProperties,exports.resolveCharContext=resolveCharContext,exports.resolveCharCoordinates=resolveCharCoordinates,exports.replaceAt=replaceAt;