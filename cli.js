#!/usr/bin/env node
"use strict";var __awaiter=this&&this.__awaiter||function(i,n,t,o){return new(t||(t=Promise))((function(e,r){function a(i){try{l(o.next(i))}catch(i){r(i)}}function u(i){try{l(o.throw(i))}catch(i){r(i)}}function l(i){var n;i.done?e(i.value):(n=i.value,n instanceof t?n:new t((function(i){i(n)}))).then(a,u)}l((o=o.apply(i,n||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0});const snowblade_1=require("./lib/snowblade"),options_1=require("./utils/options/options"),loadconfigfile_1=require("./utils/loadconfigfile"),logging_1=require("./utils/logging"),init_1=require("./utils/init");function load(){return __awaiter(this,void 0,void 0,(function*(){try{const i=yield loadconfigfile_1.loadConfigFile(options_1.default.config,!0);return Array.isArray(i)?i:[i]}catch(i){logging_1.handleError(i)}}))}function run(){return __awaiter(this,void 0,void 0,(function*(){if(options_1.default.init)return void init_1.init();const i=yield load();try{i.map(i=>{new snowblade_1.default(i).outputs.forEach(i=>i.buildBaseExpression())})}catch(i){logging_1.handleError(i,!0)}}))}run();