"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const output_1=require("./output"),componentprovider_1=require("./componentprovider"),utils_1=require("../utils/utils"),error_1=require("../utils/error");class Snowblade{constructor(r){this.config=r,this.prepareConfig(),this.initializeModules(),this.prepareInput(),this.prepareOutputs()}initializeModules(){this.componentProvider=new componentprovider_1.default(this),this.componentProvider.prepareIncluded()}prepareOutputs(){let{output:r}=this.config;r=void 0===r?error_1.error(error_1.errConfigMissingProp("output")):"object"==typeof r?Array.isArray(r)?r:[r]:error_1.error(error_1.errConfigBadPropType("config",r)),this.outputs=[],r.map(r=>{this.outputs.push(new output_1.Output(this,r))})}prepareInput(){const{input:r}=this.config;this.input=utils_1.absolutePath(void 0===r?error_1.error(error_1.errConfigMissingProp("input")):"string"!=typeof r?error_1.error(error_1.errConfigBadPropType("input",r)):r),this.component=this.componentProvider.getComponentByHref(this,this.input)}prepareConfig(){const{include:r,lazy:e,mustache:o}=this.config;this.include=void 0===r?[]:"string"==typeof r?[r]:Array.isArray(r)?r:error_1.error(error_1.errConfigBadPropType("include",r)),this.lazy=void 0!==e&&("boolean"!=typeof e?error_1.error(error_1.errConfigBadPropType("lazy",e)):e)}}exports.default=Snowblade;