"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const componentslot_1=require("./componentslot"),error_1=require("../utils/error"),cheerio=require("cheerio");class ComponentSlotManager{constructor(t){this.component=t,this.prepareSlots()}prepareSlots(){const t=cheerio.load(this.component.source),e=[...t("slot[snowblade]")],o=[...t("slot[snowblade-opt]")];this.slots=[],e.concat(o).map(t=>{const e=new componentslot_1.default(t);(void 0!==this.getDefaultSlot()||e.isDefault&&this.slots.length>0)&&error_1.error(error_1.errComponentDefaultSlotMix(this.component.file)),this.slots.push(e)})}getDefaultSlot(){const t=this.slots.filter(t=>t.isDefault);return 0===t.length?void 0:t[0]}}exports.default=ComponentSlotManager;